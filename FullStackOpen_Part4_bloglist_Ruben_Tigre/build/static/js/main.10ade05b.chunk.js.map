{"version":3,"sources":["components/utilComponents/Toggable.js","components/blog/blog.js","components/loader/loader.js","service/blogservice.js","components/bloglist/bloglist.js","service/userservice.js","components/notification/Notification.js","components/login/login.js","components/createblog/createblog.js","App.js","index.js"],"names":["Toggable","React","forwardRef","props","ref","useState","createVisible","toggCreate","toggVisibility","useImperativeHandle","style","display","className","onClick","label","children","displayName","Blog","border","width","padding","marginBottom","title","author","margin","marginBlockStart","url","likes","handleVote","handleDelete","Loader","height","viewBox","y","fill","attributeName","values","begin","dur","repeatCount","x","baseUrl","token","getAllBlogs","a","axios","get","response","data","getThatBlog","id","setToken","newToken","createBlog","newObject","config","headers","Authorization","post","updateBlog","put","deleteBlog","delete","Bloglist","blogArray","setBlogArray","loading","setLoading","useEffect","fetchBlogs","blogservice","resp","sort","b","targetBlog","updatedBlog","target","findIndex","blog","newArray","find","confirm","window","filter","map","user","username","passLogin","formData","Notification","noti","borderRadius","error","backgroundColor","alignItems","color","fontWeight","textAlign","msj","Login","onSubmit","handleSubmit","type","onChange","handleChange","value","name","password","Createblog","addBlog","setTitle","setAuthor","setUrl","setNoti","handleCreate","evt","preventDefault","handleNoti","setTimeout","placeholder","App","setUser","setUsername","setPassword","createRef","useRef","loggedUserJson","localStorage","getItem","JSON","parse","userservice","setItem","stringify","removeItem","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.10ade05b.chunk.js","sourcesContent":["import React, { useState, useImperativeHandle } from 'react'\n\nconst Toggable = React.forwardRef((props, ref) => {\n  const [createVisible, toggCreate] = useState(true)\n\n  const toggVisibility = () => {\n    toggCreate(!createVisible)\n  }\n\n  useImperativeHandle(ref, () => {\n    return {\n      toggVisibility\n    }\n  })\n\n\n\n  return (\n    <>\n      <div style={{ display: createVisible ? 'inline' : 'none' }}  className='initialdiv'>\n        <button onClick={() => toggCreate(!createVisible)}>{props.label}</button>\n      </div>\n      <div style={{ display: createVisible ? 'none' : 'inline' }} className='toggleddiv' >\n        <button onClick={() => toggCreate(!createVisible)} >close</button>\n        {props.children}\n      </div>\n    </>\n  )\n})\n\nToggable.displayName = 'Toggable'\n\nexport default Toggable\n","import React from 'react'\nimport propTypes from 'prop-types'\nimport Toggable from '../utilComponents/Toggable'\n\nconst Blog = (props) => {\n\n  return (\n    <div className='Blog_Container' style={{ border: '1px black solid', width: '30vw', padding: '0.2vw', marginBottom: '0.4vw' }}>\n        Title: {props.title}\n      <br/>\n        Author: {props.author}\n      <Toggable label='more'>\n        <p style={{ margin: '0', marginBlockStart: '0' }}>\n          <br/>\n          url: {props.url}\n          <br/>\n          likes: {props.likes}\n          <br/>\n        </p>\n        <button onClick={props.handleVote}>vote</button>\n        <button onClick={props.handleDelete}>delete</button>\n      </Toggable>\n    </div>\n  )\n}\n\nBlog.propTypes = {\n  author: propTypes.string.isRequired,\n  url: propTypes.string.isRequired,\n  likes: propTypes.number.isRequired,\n  handleVote: propTypes.func.isRequired,\n  handleDelete: propTypes.func.isRequired\n}\n\nexport default Blog","import React from 'react'\n\nconst Loader = () => {\n\n  return (\n    <svg width=\"51px\" height=\"50px\" viewBox=\"0 0 51 50\">\n\n      <rect y=\"0\" width=\"13\" height=\"50\" fill=\"#1fa2ff\">\n        <animate attributeName=\"height\" values=\"50;10;50\" begin=\"0s\" dur=\"1s\" repeatCount=\"indefinite\" />\n        <animate attributeName=\"y\" values=\"0;20;0\" begin=\"0s\" dur=\"1s\" repeatCount=\"indefinite\" />\n      </rect>\n\n      <rect x=\"19\" y=\"0\" width=\"13\" height=\"50\" fill=\"#12d8fa\">\n        <animate attributeName=\"height\" values=\"50;10;50\" begin=\"0.2s\" dur=\"1s\" repeatCount=\"indefinite\" />\n        <animate attributeName=\"y\" values=\"0;20;0\" begin=\"0.2s\" dur=\"1s\" repeatCount=\"indefinite\" />\n      </rect>\n\n      <rect x=\"38\" y=\"0\" width=\"13\" height=\"50\" fill=\"#06ffcb\">\n        <animate attributeName=\"height\" values=\"50;10;50\" begin=\"0.4s\" dur=\"1s\" repeatCount=\"indefinite\" />\n        <animate attributeName=\"y\" values=\"0;20;0\" begin=\"0.4s\" dur=\"1s\" repeatCount=\"indefinite\" />\n      </rect>\n\n    </svg>\n  )\n}\n\nexport default Loader","\nimport axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAllBlogs = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst getThatBlog = async (id) => {\n  const response = await axios.get(`${baseUrl}/${id}`)\n  return response.data\n}\n\nconst createBlog = async (newObject) => {\n  const config = {\n    headers: { Authorization: token }\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst updateBlog = async (id, newObject) => {\n  const config = {\n    headers: { Authorization: token }\n  }\n\n  const response = await axios.put(`${baseUrl}/${id}`, newObject, config)\n  return response.data\n}\n\nconst deleteBlog = async (id) => {\n  const config = {\n    headers: { Authorization: token }\n  }\n\n  const response = await axios.delete(`${baseUrl}/${id}`, config)\n  return response.data\n}\n\nexport default {\n  getAllBlogs, setToken, createBlog, updateBlog, getThatBlog, deleteBlog\n}","import React, { useState, useEffect } from 'react'\nimport Blog from '../blog/blog'\nimport Loader from '../loader/loader'\nimport blogservice from '../../service/blogservice'\n\n\n\n\nconst Bloglist = () => {\n  const [blogArray, setBlogArray] = useState([])\n  const [loading, setLoading] = useState(false)\n\n\n  useEffect(() => {\n    fetchBlogs()\n  }, [])\n\n  const fetchBlogs = async () => {\n    try {\n      const resp = await blogservice.getAllBlogs()\n      resp.sort((a, b) => {\n        return b.likes - a.likes\n      })\n      setBlogArray(resp)\n      setLoading(true)\n\n    } catch (error) {\n      setLoading(false)\n      setBlogArray([])\n    }\n  }\n\n  const handleVote = async (id) => {\n    const targetBlog = await blogservice.getThatBlog(id)\n\n    if (targetBlog) {\n      const updatedBlog = { ...targetBlog, likes: targetBlog.likes + 1 }\n      await blogservice.updateBlog(id, updatedBlog)\n\n      const target = blogArray.findIndex(blog => blog.id === id)\n      const newArray = [...blogArray]\n      newArray[target] = { ...newArray[target], likes: updatedBlog.likes }\n      newArray.sort((a, b) => {\n        return b.likes - a.likes\n      })\n      setBlogArray(newArray)\n    }\n  }\n\n  const handleDelete = async (id) => {\n    const target = blogArray.find(blog => blog.id === id)\n    const confirm = window.confirm(`Remove blog: ${target.title}`)\n\n    if (target) {\n      if (confirm) {\n        await blogservice.deleteBlog(id)\n        setBlogArray(blogArray.filter(blog => blog.id !== id))\n      }\n    }\n\n  }\n\n\n\n\n  return (\n    <div className='blog_container'>\n      {\n        loading ? (\n          <div>\n            {blogArray.map(blog => {\n              return (\n                <Blog\n                  key={blog.id}\n                  title={blog.title}\n                  author={blog.author}\n                  url={blog.url}\n                  likes={blog.likes}\n                  user={blog.user.username}\n                  handleVote={() => {handleVote(blog.id)}}\n                  handleDelete={() => {handleDelete(blog.id)}}\n                />\n              )})}\n          </div>\n        ) : (\n          <Loader/>\n        )\n      }\n    </div>\n  )\n}\n\nexport default Bloglist","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst passLogin = async (formData) => {\n  const response = await axios.post(baseUrl, formData)\n  return response.data\n}\n\n\nexport default { passLogin }","\nimport React from 'react'\nimport propTypes from 'prop-types'\n\nconst Notification = ({ noti }) => {\n  if (noti.display === false) {\n    return null\n  }\n\n  return (\n    <div className='Notification-block' style={{\n      borderRadius: '0.5em',\n      border: `solid 2px ${noti.error ? 'red' : 'green'}`,\n      backgroundColor: `${noti.error ? '#FD8181' : 'lightgreen'}`,\n      display: 'block',\n      width: '300px',\n      alignItems: 'center'\n    }}>\n      <p className='Notification-text' style={{\n        color: noti.error ? 'red' : 'green',\n        fontWeight: 300,\n        textAlign: 'center'\n      }}>{noti.msj}</p>\n    </div>\n  )\n}\n\nNotification.propTypes = {\n  noti: propTypes.object.isRequired\n}\n\nexport default Notification","import React from 'react'\nimport propTypes from 'prop-types'\n\nconst Login = (props) => {\n\n  return(\n\n    <form onSubmit={props.handleSubmit}>\n            username: <input type='text' onChange={props.handleChange} value={props.username} name='username'/>\n      <br/>\n            password: <input type='password' onChange={props.handleChange} value={props.password} name='password'/>\n      <br/>\n      <input type='submit'/>\n    </form>\n  )\n}\n\nLogin.propTypes = {\n  handleChange: propTypes.func.isRequired,\n  username: propTypes.string.isRequired,\n  password: propTypes.string.isRequired\n}\n\nexport default Login","import React, { useState } from 'react'\nimport Notification from '../notification/Notification'\n\nconst Createblog = ({ addBlog }) => {\n\n  const [title, setTitle] = useState('')\n  const [author, setAuthor] = useState('')\n  const [url, setUrl] = useState('')\n  const [noti, setNoti] = useState({\n    msj: 'Default msg',\n    display: false,\n    error: false\n  })\n\n  const handleCreate = async (evt) => {\n    evt.preventDefault()\n\n    try {\n      addBlog({ title: title, author: author, url: url })\n      handleNoti('Blog added succesful', false)\n      setTitle('')\n      setAuthor('')\n      setUrl('')\n    } catch (error) {\n      handleNoti('Error while adding blog', true)\n    }\n  }\n\n  const handleNoti = (msj, error) => {\n    let newNoti = {\n      msj: msj,\n      display: true,\n      error: error\n    }\n    setNoti(newNoti)\n\n    setTimeout(() => {\n      setNoti({\n        msj: 'Default msg',\n        display: false,\n        error: false\n      })\n    }, 3000)\n\n  }\n\n  return (\n    <>\n      <Notification noti={noti}/>\n      <form onSubmit={handleCreate} id='form'>\n            Title: <input type='text' onChange={(evt) => setTitle(evt.target.value)} value={title} id='title-input' name='title' placeholder='title'/><br/>\n            Author: <input type='text' onChange={(evt) => setAuthor(evt.target.value)} value={author} id='author-input' name='author' placeholder='author'/><br/>\n            Url: <input type='text' onChange={(evt) => setUrl(evt.target.value)} value={url} id='url-input' name='url' placeholder='url'/><br/>\n        <input type='submit' id='submit'/>\n      </form>\n    </>\n  )\n}\n\nexport default Createblog\n","import React, { useState, useEffect, useRef } from 'react'\nimport Bloglist from './components/bloglist/bloglist'\nimport userservice from './service/userservice'\nimport blogservice from './service/blogservice'\nimport Notification from './components/notification/Notification'\nimport Login from './components/login/login'\nimport Createblog from './components/createblog/createblog'\nimport Toggable from './components/utilComponents/Toggable'\n\nfunction App() {\n\n  const [token, setToken] = useState(null)\n  const [user, setUser] = useState({})\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const createRef = useRef()\n  const [noti, setNoti] = useState({\n    msj: 'Default msg',\n    display: false,\n    error: false\n  })\n\n  useEffect(() => {\n    const loggedUserJson = window.localStorage.getItem('loggedBlogappUser')\n    if (loggedUserJson) {\n      const user = JSON.parse(loggedUserJson)\n      blogservice.setToken(user.token)\n      setToken(user.token)\n      setUser(user)\n    }\n  }, [])\n\n  const handleSubmit = async (evt) => {\n    evt.preventDefault()\n    const formData = {\n      username: username,\n      password: password\n    }\n\n    try {\n      const resp = await userservice.passLogin(formData)\n      window.localStorage.setItem('loggedBlogappUser', JSON.stringify(resp))\n      setToken(resp.token)\n      setUser(resp)\n      setUsername('')\n      setPassword('')\n    } catch (error) {\n      handleNoti('Wrong username or password', true)\n    }\n\n  }\n\n  const handleNoti = (msj, error) => {\n    let newNoti = {\n      msj: msj,\n      display: true,\n      error: error\n    }\n    setNoti(newNoti)\n\n    setTimeout(() => {\n      setNoti({\n        msj: 'Default msg',\n        display: false,\n        error: false\n      })\n    }, 3000)\n\n  }\n\n  const handleChange = (evt) => {\n    evt.target.name === 'username' ?\n      setUsername(evt.target.value)\n      :\n      setPassword(evt.target.value)\n  }\n\n  const handleLogOut = (evt) => {\n    evt.preventDefault()\n\n    window.localStorage.removeItem('loggedBlogappUser')\n    setToken(null)\n  }\n\n  const addBlog = async (blog) => {\n    return await blogservice.createBlog({ title: blog.title, author: blog.author, url: blog.url })\n  }\n\n  const createForm = () => (\n    <Toggable label='New Note' ref={createRef}>\n      <Createblog addBlog={addBlog}/>\n    </Toggable>\n  )\n\n\n\n\n\n  return (\n    token === null ?\n      (<div className='form-container'>\n        <Notification noti={noti}/>\n        <Login handleSubmit={handleSubmit} handleChange={handleChange} username={username} password={password}/>\n      </div>)\n      :\n      (<div>\n        <div className='user-data'>\n          <Notification noti={noti}/>\n          {user.name} is connected <br/>\n          <button onClick={handleLogOut}>Log out</button>\n          <br/>\n          <br/>\n          {createForm()}\n\n        </div>\n        <br/>\n        <Bloglist/>\n      </div>)\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n\n"],"sourceRoot":""}